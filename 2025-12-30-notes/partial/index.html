<section class="post-terminal   post-terminal--thoughts">

    <article class="post-terminal__article">
<section class="post-header mb-8">
    <h1 id="title" style="font-size: 4rem; line-height: 1.1; font-weight: 800;" class="text-6xl md:text-7xl font-extrabold gradient-text mb-4 post-title-large">2025-12-30 Notes</h1>
    <div class="flex items-center text-sm text-text-main/80 mb-6">
        <time datetime="2025-12-30">
            December 30, 2025
        </time>
    </div>
    <div class="flex flex-wrap gap-2">
            <a href="https://pype.dev//tags/daily-note/" class="inline-block bg-primary-light text-accent-cool text-xs font-medium px-3 py-1 rounded-full hover:bg-primary-light/80 transition-colors border border-accent-cool/20 hover-lift">
                #daily-note
            </a>
    </div>
</section>        <section class="post-terminal__body prose dark:prose-invert">
            <p>yesterday: <a class="wikilink" href="/2025-12-27-notes">2025-12-27-notes</a></p>
<h2 id="dev">Dev <a class="header-anchor" href="#dev"><svg class="heading-permalink" aria-hidden="true" fill="currentColor" focusable="false" height="1em" viewBox="0 0 24 24" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M9.199 13.599a5.99 5.99 0 0 0 3.949 2.345 5.987 5.987 0 0 0 5.105-1.702l2.995-2.994a5.992 5.992 0 0 0 1.695-4.285 5.976 5.976 0 0 0-1.831-4.211 5.99 5.99 0 0 0-6.431-1.242 6.003 6.003 0 0 0-1.905 1.24l-1.731 1.721a.999.999 0 1 0 1.41 1.418l1.709-1.699a3.985 3.985 0 0 1 2.761-1.123 3.975 3.975 0 0 1 2.799 1.122 3.997 3.997 0 0 1 .111 5.644l-3.005 3.006a3.982 3.982 0 0 1-3.395 1.126 3.987 3.987 0 0 1-2.632-1.563A1 1 0 0 0 9.201 13.6zm5.602-3.198a5.99 5.99 0 0 0-3.949-2.345 5.987 5.987 0 0 0-5.105 1.702l-2.995 2.994a5.992 5.992 0 0 0-1.695 4.285 5.976 5.976 0 0 0 1.831 4.211 5.99 5.99 0 0 0 6.431 1.242 6.003 6.003 0 0 0 1.905-1.24l1.723-1.723a.999.999 0 1 0-1.414-1.414L9.836 19.81a3.985 3.985 0 0 1-2.761 1.123 3.975 3.975 0 0 1-2.799-1.122 3.997 3.997 0 0 1-.111-5.644l3.005-3.006a3.982 3.982 0 0 1 3.395-1.126 3.987 3.987 0 0 1 2.632 1.563 1 1 0 0 0 1.602-1.198z"></path></svg></a></h2>
<ul>
<li>
<p>taking a look at the zensical docs builds broken in my homelab</p>
<ul>
<li>
<p>I pulled the forgejo runner image to build locally - but that image isn't used for building, just orchestrating the CI runs</p>
</li>
<li>
<p>so I docker pull <a href="http://ghcr.io/catthehacker/ubuntu:act-latest">ghcr.io/catthehacker/ubuntu:act-latest</a></p>
<ul>
<li>installed just</li>
<li>cloned repo</li>
<li>just build-site works... wtf...</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">TLDR</p>
<p>The build was failing because Linux only allowed 128 inotify instances, and zensical starts its file-watcher even during a normal build. The watcher creates more than 128 inotify instances, hits the kernel limit, gets EMFILE (Too many open files), and then panics due to an unwrap().
This had nothing to do with:
ulimit -n (already high)
max_user_watches (already high)
PID limits
Raising:
/proc/sys/fs/inotify/max_user_instances
fixed it immediately.
In short: CI environment had a low inotify instance limit, and zensicalâ€™s watcher is not CI-safe.</p>
</div>
</li>
<li>
<p><a class="wikilink" href="/increase-inotify-limit-in-your-ci-workers">increase-inotify-limit-in-your-ci-workers</a></p>
</li>
<li>
<p>Also got my blog build and push to GH much closer to my shared devops one...</p>
<ul>
<li>using just in ci now, so the nostr well-known gets in there via just recipe</li>
<li>need to configure markout vs site for markata vs zensical repos
<ul>
<li>pype.dev</li>
<li>homelab-mono(-mirror)</li>
<li>dotfiles</li>
<li>DigitalHarbor? (this would imply I'm bringing in these custom things built with npm/astro/etc... probably out of scope)</li>
</ul>
</li>
</ul>
</li>
</ul>

        </section>
    </article>
</section>