<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="./static/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark" />
    <meta name="generator" content="Marmite" />
    
<meta property="og:title" content="Polybar-01">

<meta property="og:description" content="
polybar is an awesome and super customizable status bar for your desktop environment.
I use it with...">


<meta property="og:url" content="https://pype.dev/polybar-01.html">

<meta property="og:type" content="article">
<meta property="og:site_name" content="Pype.dev">

<meta property="article:published_time" content=" 2022-04-01T00:00:00+00:00">


<meta property="article:author" content="https://pype.dev/author-nicpayne.html">


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://pype.dev/polybar-01.html"
    },
    "url": "https://pype.dev/polybar-01.html",
    "headline": "Polybar-01",
    "description": "polybar is an awesome and super customizable status bar for your desktop environment.
I use it with i3-gaps on Ubuntu for work and it makes ...",
    
    "author": {
        "@type": "Person",
        "name": "Nicholas Payne",
        "url": "https://pype.dev/author-nicpayne.html",
    },
    "publisher": {
        "@type": "Organization",
        "name": "Pype.dev",
        "logo": {
            "@type": "ImageObject",
            "url": "https://pype.dev/"
        }
    },
    "datePublished": "2022-04-01T00:00:00+00:00"
}
</script>


    <title>Polybar-01 | Pype.dev</title>
    <link rel="stylesheet" type="text/css" href="./static/pico.min.css">
    <link rel="stylesheet" type="text/css" href="./static/marmite.css">
    
    <link rel="stylesheet" type="text/css" href="./static/colorschemes/nord.css">
    
    <link rel="stylesheet" type="text/css" href="./static/custom.css">
    
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/styles/github.min.css" id="highlightjs-theme" />



    <link rel="alternate" type="application/rss+xml" title="index" href="index.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: tech" href="tag-tech.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: homelab" href="tag-homelab.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: linux" href="tag-linux.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: bema" href="tag-bema.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: python" href="tag-python.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: cli" href="tag-cli.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: faith" href="tag-faith.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: bible-project" href="tag-bible-project.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: vim" href="tag-vim.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: zfs" href="tag-zfs.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: bash" href="tag-bash.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: til" href="tag-til.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: git" href="tag-git.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: blog" href="tag-blog.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: data" href="tag-data.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: webdev" href="tag-webdev.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: terminal" href="tag-terminal.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: homepage" href="tag-homepage.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: infrastructure" href="tag-infrastructure.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: books" href="tag-books.rss">
    <link rel="alternate" type="application/rss+xml" title="tag: olivet" href="tag-olivet.rss">
    <link rel="alternate" type="application/rss+xml" title="author: nicpayne" href="author-nicpayne.rss">
    <link rel="alternate" type="application/rss+xml" title="year: 2024" href="archive-2024.rss">
    <link rel="alternate" type="application/rss+xml" title="year: 2023" href="archive-2023.rss">
    <link rel="alternate" type="application/rss+xml" title="year: 2022" href="archive-2022.rss">
    

    
    <link rel="alternate" type="application/feed+json" title="JSON index" href="index.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: tech" href="tag-tech.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: homelab" href="tag-homelab.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: linux" href="tag-linux.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: bema" href="tag-bema.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: python" href="tag-python.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: cli" href="tag-cli.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: faith" href="tag-faith.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: bible-project" href="tag-bible-project.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: vim" href="tag-vim.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: zfs" href="tag-zfs.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: bash" href="tag-bash.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: til" href="tag-til.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: git" href="tag-git.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: blog" href="tag-blog.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: data" href="tag-data.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: webdev" href="tag-webdev.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: terminal" href="tag-terminal.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: homepage" href="tag-homepage.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: infrastructure" href="tag-infrastructure.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: books" href="tag-books.json">
    <link rel="alternate" type="application/feed+json" title="JSON tag: olivet" href="tag-olivet.json">
    <link rel="alternate" type="application/feed+json" title="JSON author: nicpayne" href="author-nicpayne.json">
    <link rel="alternate" type="application/feed+json" title="JSON year: 2024" href="archive-2024.json">
    <link rel="alternate" type="application/feed+json" title="JSON year: 2023" href="archive-2023.json">
    <link rel="alternate" type="application/feed+json" title="JSON year: 2022" href="archive-2022.json">
    
    
    
    
</head>
<body>
    
    <div class="container-fluid announcement-wrapper">
        <div class="announcement"><p>Give us a â˜† on <a href="https://github.com/rochacbruno/marmite">github</a></p>
</div>
    </div>
    
    <main class="container">
        
        <header class="header-content">
            <nav class="header-nav">
                <ul class="header-name">
                    <li>
                        <hgroup>
                            <h2><a href="./" class="contrast">Pype.dev</a></h2>
                             <p>my mental data-lake</p> 
                        </hgroup>
                    </li>
                </ul>
                <button id="menu-toggle" class="hamburger">&#9776;</button>
                
                <ul class="header-menu" id="header-menu">
                    
                      
                      
                    <li>
                        
                        <a class="menu-item secondary"  href="./archive.html">Archive</a>
                        
                    </li>
                    
                      
                      
                    <li>
                        
                        <a class="menu-item secondary"  href="./tags.html">Tags</a>
                        
                    </li>
                    
                      
                      
                    <li>
                        
                        <a class="menu-item secondary"  href="https://github.com/pypeaday/pype.dev" target="_blank" >Github</a>
                        
                    </li>
                    
                    <li><span class="theme-toggle secondary" title="dark mode">&#9789;</span></li>
                    
                    <li><a href="#" id="search-toggle" class="secondary" title="Search (Ctrl + Shift + F)"> <span class="search-txt">Search</span><span class="search-magnifier"></span></a></li>
                    
                    <div class="underline"></div>
                </ul>
            </nav>
            
            <div class="marmite-background-overlay" id="overlay-close"></div>
            <div class="marmite-search-bar hidden">
                <span>Search</span>
                <button class="marmite-close-button" id="search-close">X</button>
                <input placeholder="Search" id="marmite-search-input" />
                <div class="marmite-search-bar-result">
                    <ul id="marmite-search-bar-result"></ul>
                </div>
            </div>
            
        </header>
        
        <section class="main-content">
            



<article>

  


<div class="content-title" id="title">
    <h1>Polybar-01</h1> 
    


<span class="content-date">
    <small> Apr  1, 2022 - &#10710; 5 min</small>
</span>

</div>

  
  <div class="content-toc">
    <a href="#" id="toc"></a>
    <details>
    <summary>ğŸ—’ï¸</summary>
    <ul>
<ul>
<li><a href="#organization">Organization</a></li>
<li><a href="#config">Config</a></li>
<li><a href="#modules">Modules</a></li>
<li><a href="#my-issues-with-i3">My issues with i3</a></li>
<li><a href="#fin">FIN</a></li>
</ul>
</ul>

    </details>
  </div>
  

  <div class="content-html"><!-- Content Injected to every content markdown header -->
<p><a href="https://github.com/polybar/polybar">polybar</a> is an awesome and super customizable status bar for your desktop environment.</p>
<p>I use it with i3-gaps on Ubuntu for work and it makes my day just that much better to have a clean and elegant bar with the things in it that I care about.</p>
<p>The GitHub has all the instructions you'd need to install and get started with an example.</p>
<p>I want to make some notes about how I use polybar and customize it.</p>
<h2><a href="#organization" aria-hidden="true" class="anchor" id="organization"></a>Organization</h2>
<p>First of all, I recently moved my polybar config out of one config file into a modular structure that keeps my config files small and easiser to edit.</p>
<p>You can find my config <a href="https://github.com/nicpayne713/dotfiles/tree/main/polybar">here</a></p>
<p>The apps or services you put into polybar are called <code>modules</code>.
I have moved all of my modules into their own config files and I source them with one centralized <code>include-modules.ini</code> config.</p>
<p>This separation also makes it easier for me to keep my home and work polybars as in sync as possible without duplicating a ton of config!</p>
<pre><code class="language-bash">./polybar
â”œâ”€â”€ colors.ini
â”œâ”€â”€ config.ini
â”œâ”€â”€ fonts.ini
â”œâ”€â”€ home-modules.ini
â”œâ”€â”€ include-modules.ini
â”œâ”€â”€ launch.sh
â”œâ”€â”€ modules
â”‚Â Â  â”œâ”€â”€ aws.ini
â”‚Â Â  â”œâ”€â”€ battery.ini
â”‚Â Â  â”œâ”€â”€ bluetooth.ini
â”‚Â Â  â”œâ”€â”€ cisco.ini
â”‚Â Â  â”œâ”€â”€ cpu.ini
â”‚Â Â  â”œâ”€â”€ date.ini
â”‚Â Â  â”œâ”€â”€ eth.ini
â”‚Â Â  â”œâ”€â”€ eth_work.ini
â”‚Â Â  â”œâ”€â”€ i3.ini
â”‚Â Â  â”œâ”€â”€ memory.ini
â”‚Â Â  â”œâ”€â”€ nm-editor.ini
â”‚Â Â  â”œâ”€â”€ powermenu.ini
â”‚Â Â  â”œâ”€â”€ pulseaudio-control.ini
â”‚Â Â  â”œâ”€â”€ pulseaudio.ini
â”‚Â Â  â”œâ”€â”€ rofi.ini
â”‚Â Â  â”œâ”€â”€ vpn.ini
â”‚Â Â  â””â”€â”€ wlan.ini
â””â”€â”€ work-modules.ini

1 directory, 24 files
</code></pre>
<p>To break this down there are several configs to see:</p>
<ol>
<li><code>colors.ini</code> is what you'd expect - a set of defined colors like <code>foreground</code>, <code>underline</code>, etc.</li>
<li><code>config.ini</code> is the general polybar config file where bars are defined. Currently in mine there is a <code>work</code> and <code>home</code> bar defined with the modules sourced in from the explicit config files.</li>
<li><code>fonts.ini </code> is like <code>colors.ini</code> -&gt; you put fonts here. I recommend using a font patched with NerdFont so you get fancy icons! (I use JetBrains Mono)</li>
<li><code>include-modules.ini</code> is where I list out all the config files in <code>modules/</code> so I can basically source just the <code>include-modules.ini</code> without explicitly sourcing every module's config in every polybar defintion.</li>
<li><code>launch.sh</code> is a simple shell script to launch the polybar! You'll see mine takes multiple monitors into consideration which I manage via environment variables setup in my <code>.zshenv</code> file that is different for my work and home setups.</li>
<li>Finally there are <code>home-modules.ini</code> and <code>work-modules.ini</code> which is where, for each of my bars, I define which modules I want!</li>
</ol>
<h2><a href="#config" aria-hidden="true" class="anchor" id="config"></a>Config</h2>
<p>My <code>config.ini</code> file has 2 bar definitions in it - here's my home one:</p>
<pre><code class="language-ini">include-file = $DOTFILES/polybar/include-modules.ini

[bar/home]
monitor = ${env:MONITOR:}
width = 100%
height = 25
radius = 8.0
fixed-center = true
bottom = false

background = ${colors.background}
foreground = ${colors.foreground}

include-file = $DOTFILES/polybar/fonts.ini
include-file = $DOTFILES/polybar/home-modules.ini
</code></pre>
<p>It should be easy to follow - I bring in the <code>include-modules</code>, set a few colors for the bar like <code>background</code> and <code>foreground</code> which are sourced by the <code>colors.ini</code>, and finally bring in my fonts and home modules via their config files!</p>
<p>It's super easy to then change one or two things in the appropriate places rather than combing through one massive config. This also makes it easy for me to seperate my work and home setups.</p>
<h2><a href="#modules" aria-hidden="true" class="anchor" id="modules"></a>Modules</h2>
<p>There are several builtin modules, like <code>wlan</code> which gives your wifi status right there in polybar.</p>
<p>You can also make custom ones.
A big-time custom one for me is an indicator of whether or not I have an active AWS token for working with the <code>aws</code> cli.</p>
<p>This is defined in<code> modules/aws.ini</code> and it looks like this:</p>
<pre><code class="language-ini">[module/aws]
interval = 5.0
type = custom/script
exec = has_aws_token
click-left = $HOME/.local/bin/auto_get_aws_token
click-right = rm -rf ~/.aws/credentials
</code></pre>
<p>Every <code>5</code> seconds my <code>has_aws_token</code> script is ran.
That script looks like this:</p>
<pre><code class="language-bash">#!/bin/bash
source auto_proxy
aws sts get-caller-identity &amp;&gt; /dev/null &amp;&amp; echo &quot;%{T5}%{F#00ff00}î‰«  %{F-}%{T-}&quot;  ||( echo &quot;%{T5}%{F#ff0000}ï„ª %{F-}%{T-}&quot; )
</code></pre>
<p>See how the script echos out a colored icon to indicate the status of my token -&gt; that icon is displayed in the polybar so I have real-time (5 second latency) status of whether or not I can do things in my AWS environment.</p>
<p>In the module I also configured actions for <code>click-left</code> and <code>click-right</code> which are as straight forward as could be.</p>
<h2><a href="#my-issues-with-i3" aria-hidden="true" class="anchor" id="my-issues-with-i3"></a>My issues with i3</h2>
<p>There's a few things to be considerate of if you use <code>i3</code> such as needing a workaround for a centered bar that <u>is not</u> the full width of the monitor.
Polybar can look really nice by not taking up the full width of the bar which you can configure in <code>config.ini</code> with these options:</p>
<pre><code class="language-ini">width = 90%
offset-x = 5%  # set to (100 - width) / 2
</code></pre>
<p>However due to an issue with polybar and i3 you need to also set <code>override-redirect = true</code>.
BUT then you'll notice that the bar overlaps your i3 windows... ARGH! what do we do?</p>
<p>Quick work around is to set <code>gaps top</code> in your i3 config if you use i3-gaps... if not? well, idk... use gaps... lol</p>
<p>However this introduces another issue - which is then full screen windows will  have polybar sitting on top of them...</p>
<p>This isn't necessarily a deal breaker, but for me it's worth it to just have the bar go 100% width.</p>
<h2><a href="#fin" aria-hidden="true" class="anchor" id="fin"></a>FIN</h2>
<p>There's a tiny intro to polybar and how I organize my config files so things are easy to edit and manage!
Feel free to grab mine and try it out!</p>
<!-- Content Injected to every content markdown footer -->
</div>
  
  <footer class="data-tags-footer">

    <div class="content-authors-flex">
      <div class="content-authors-full">
        
<div class="content-authors">
    <ul>
        
            
            
            <li>
                <a href="author-nicpayne.html">
                    <img src="https://github.com/pypeaday.png" alt="Nicholas Payne" class="avatar">
                    Nicholas Payne
                </a>
            </li>
            
        
    </ul>
</div>


      </div>

      <div class="date-tags-container">
        <div class="content-date">
          


<span class="content-date">
    <small> Apr  1, 2022 - &#10710; 5 min</small>
</span>

        </div>

        <ul class="content-tags">
          
          <li><a href="./tag-linux.html">linux</a></li>
          
          <li><a href="./tag-tech.html">tech</a></li>
          
        </ul>
      </div>
    </div>
  </footer>
  
</article>




  
  
  
  
  <article>
    Related linux content
    <ul>
      
      
      <li><a href="./dns-broke-after-reboot-ubuntu-22-04.html">DNS Broke After Reboot - Ubuntu 22.04</a></li>
      
      
      <li><a href="./restart-kde-plasma.html">Restart KDE Plasma</a></li>
      
      
      <li><a href="./docker-remote-add.html">docker-remote-add</a></li>
      
      
      <li><a href="./docker-copy-and-chown.html">Docker copy and chown</a></li>
      
      
      <li><a href="./interesting-ips-between-jellyfin-clients-and-server-depending-on-tailscale-and-server-address.html">Interesting IPs between Jellyfin clients and server depending on tailscale and server address</a></li>
      
    </ul>
  </article>
  



    <article></article>



        </section>
        
        <footer class="footer-content grid">
            <div>Powered by <a href="https://github.com/rochacbruno/marmite">Marmite</a> | <small><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC-BY_NC-SA</a></small></div>
            
        </footer>
        
    </main>

    <script src="./static/marmite.js"></script>
    <script src="./static/custom.js"></script>
    
    <script type="module" src="./static/search.js"></script>
    
    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.10.0/highlight.min.js"></script>
<script>
  hljs.highlightAll();
</script>



</body>
</html>
